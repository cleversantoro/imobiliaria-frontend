<form class="space-y-4" [formGroup]="form" (ngSubmit)="submit()">
  <div class="grid gap-4 md:grid-cols-2">
    <label class="space-y-1 text-sm font-medium text-slate-700 dark:text-slate-200">
      {{ 'contact.form.name.label' | t }}
      <input
        formControlName="name"
        type="text"
        class="w-full rounded-lg border border-slate-300 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-brand focus:outline-none dark:border-slate-600 dark:bg-slate-800 dark:text-slate-100"
      />
      <span *ngIf="hasError('name', 'required')" class="text-xs text-rose-600">{{ 'contact.form.error.generic' | t }}</span>
    </label>
    <label class="space-y-1 text-sm font-medium text-slate-700 dark:text-slate-200">
      {{ 'contact.form.email.label' | t }}
      <input
        formControlName="email"
        type="email"
        class="w-full rounded-lg border border-slate-300 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-brand focus:outline-none dark:border-slate-600 dark:bg-slate-800 dark:text-slate-100"
      />
      <span *ngIf="hasError('email', 'email') || hasError('email', 'required')" class="text-xs text-rose-600">{{ 'contact.form.error.generic' | t }}</span>
    </label>
  </div>

  <div class="grid gap-4 md:grid-cols-2">
    <label class="space-y-1 text-sm font-medium text-slate-700 dark:text-slate-200">
      {{ 'contact.form.phone.label' | t }}
      <input
        formControlName="phone"
        type="tel"
        class="w-full rounded-lg border border-slate-300 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-brand focus:outline-none dark:border-slate-600 dark:bg-slate-800 dark:text-slate-100"
      />
      <span *ngIf="hasError('phone', 'required')" class="text-xs text-rose-600">{{ 'contact.form.error.generic' | t }}</span>
    </label>
    <label class="space-y-1 text-sm font-medium text-slate-700 dark:text-slate-200">
      {{ 'contact.form.subject.label' | t }}
      <select
        formControlName="subject"
        class="w-full rounded-lg border border-slate-300 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-brand focus:outline-none dark:border-slate-600 dark:bg-slate-800 dark:text-slate-100"
      >
        <option value="contact.form.subject.purchase">{{ 'contact.form.subject.purchase' | t }}</option>
        <option value="contact.form.subject.sale">{{ 'contact.form.subject.sale' | t }}</option>
        <option value="contact.form.subject.rent">{{ 'contact.form.subject.rent' | t }}</option>
        <option value="contact.form.subject.appraisal">{{ 'contact.form.subject.appraisal' | t }}</option>
        <option value="contact.form.subject.consulting">{{ 'contact.form.subject.consulting' | t }}</option>
        <option value="contact.form.subject.other">{{ 'contact.form.subject.other' | t }}</option>
      </select>
    </label>
  </div>

  <label class="space-y-1 text-sm font-medium text-slate-700 dark:text-slate-200">
    {{ 'contact.form.message.label' | t }}
    <textarea
      formControlName="message"
      rows="5"
      class="w-full rounded-lg border border-slate-300 px-3 py-2 text-sm text-slate-900 shadow-sm focus:border-brand focus:outline-none dark:border-slate-600 dark:bg-slate-800 dark:text-slate-100"
    ></textarea>
    <span *ngIf="hasError('message', 'required')" class="text-xs text-rose-600">{{ 'contact.form.error.generic' | t }}</span>
  </label>

  <div class="space-y-4">
    <button
      type="submit"
      class="inline-flex w-full items-center justify-center rounded-lg bg-brand px-4 py-2 text-sm font-semibold text-slate-900 transition hover:bg-brand-light disabled:pointer-events-none disabled:opacity-60"
      [disabled]="contactStore.sending()"
    >
      <span *ngIf="!contactStore.sending()">{{ 'contact.form.submit' | t }}</span>
      <span *ngIf="contactStore.sending()">{{ 'contact.form.submitting' | t }}</span>
    </button>

    <div *ngIf="contactStore.success()" class="rounded-lg bg-emerald-100 px-3 py-2 text-sm text-emerald-700 dark:bg-emerald-400/10 dark:text-emerald-200">
      {{ 'contact.form.success.message' | t }}
    </div>
    <div *ngIf="contactStore.error()" class="rounded-lg bg-rose-100 px-3 py-2 text-sm text-rose-700 dark:bg-rose-400/10 dark:text-rose-200">
      {{ contactStore.error() || ('contact.form.error.generic' | t) }}
    </div>
  </div>
</form>
