<section class="space-y-6">
  <div class="flex flex-col gap-3 md:flex-row md:items-center md:justify-between">
    <div>
      <h1 class="text-2xl font-semibold text-slate-900 md:text-3xl dark:text-slate-100">{{ 'admin.properties.title' | t }}</h1>
      <p class="mt-1 text-sm text-slate-600 dark:text-slate-300">{{ 'admin.properties.subtitle' | t }}</p>
    </div>
    <div class="flex gap-2">
      <button
        type="button"
        class="inline-flex items-center justify-center rounded-lg border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:border-brand hover:text-slate-900 dark:border-slate-600 dark:text-slate-200 dark:hover:border-brand"
        (click)="refresh()"
      >
        {{ 'hero.cta.primary' | t }}
      </button>
      <button
        type="button"
        class="inline-flex items-center justify-center rounded-lg bg-brand px-4 py-2 text-sm font-semibold text-slate-900 transition hover:bg-brand-light"
      >
        {{ 'admin.properties.button.new' | t }}
      </button>
    </div>
  </div>

  <div *ngIf="propertyStore.loading()" class="rounded-3xl border border-slate-200 bg-white/80 p-6 text-center text-sm text-slate-600 dark:border-slate-700 dark:bg-slate-800/80 dark:text-slate-300">
    {{ 'properties.loading' | t }}
  </div>

  <div *ngIf="propertyStore.error()" class="rounded-3xl border border-slate-200 bg-rose-100/70 p-6 text-center text-sm text-rose-700 dark:border-rose-400/40 dark:bg-rose-400/10 dark:text-rose-200">
    {{ propertyStore.error() || ('properties.error' | t) }}
  </div>

  <div *ngIf="!propertyStore.loading() && !propertyStore.error() && propertyStore.properties().length === 0" class="rounded-3xl border border-slate-200 bg-white/80 p-6 text-center text-sm text-slate-600 dark:border-slate-700 dark:bg-slate-800/80 dark:text-slate-300">
    {{ 'properties.empty' | t }}
  </div>

  <div *ngIf="propertyStore.properties().length > 0" class="overflow-hidden rounded-3xl border border-slate-200 bg-white/90 shadow-sm dark:border-slate-700 dark:bg-slate-800/80">
    <div class="hidden grid-cols-12 gap-4 border-b border-slate-200 bg-slate-100/60 px-6 py-3 text-xs font-semibold uppercase tracking-wider text-slate-500 dark:border-slate-700 dark:bg-slate-800/60 md:grid">
      <span class="col-span-4">{{ 'admin.properties.table.property' | t }}</span>
      <span class="col-span-2">{{ 'admin.properties.table.status' | t }}</span>
      <span class="col-span-2">{{ 'admin.properties.table.type' | t }}</span>
      <span class="col-span-2">{{ 'admin.properties.table.updatedAt' | t }}</span>
      <span class="col-span-2 text-right">{{ 'landing.featured.button' | t }}</span>
    </div>
    <div class="divide-y divide-slate-200 dark:divide-slate-700">
      <div
        *ngFor="let property of propertyStore.properties()"
        class="grid grid-cols-1 gap-4 px-6 py-4 text-sm text-slate-600 dark:text-slate-300 md:grid-cols-12 md:items-center"
      >
        <div class="md:col-span-4">
          <div class="font-medium text-slate-900 dark:text-slate-100">{{ property.title }}</div>
          <div class="text-xs text-slate-500 dark:text-slate-400">
            {{ property.neighborhood || property.city }} • {{ property.city }}
          </div>
        </div>
        <div class="md:col-span-2 flex items-center gap-2">
          <span class="rounded-full border border-emerald-400/40 bg-emerald-100/70 px-2 py-1 text-xs font-semibold text-emerald-700 dark:border-emerald-400/20 dark:bg-emerald-400/10 dark:text-emerald-200" *ngIf="property.is_active; else inactiveStatus">
            {{ 'admin.properties.status.active' | t }}
          </span>
          <ng-template #inactiveStatus>
            <span class="rounded-full border border-slate-400/40 bg-slate-100/70 px-2 py-1 text-xs font-semibold text-slate-600 dark:border-slate-400/20 dark:bg-slate-700/40 dark:text-slate-300">
              {{ 'admin.properties.status.inactive' | t }}
            </span>
          </ng-template>
          <span *ngIf="property.is_featured" class="rounded-full border border-amber-400/40 bg-amber-100/70 px-2 py-1 text-xs font-semibold text-amber-700 dark:border-amber-400/20 dark:bg-amber-300/10 dark:text-amber-200">
            {{ 'admin.properties.status.featured' | t }}
          </span>
        </div>
        <div class="md:col-span-2 text-sm text-slate-500 dark:text-slate-300">
          {{ property.property_type }} • {{ property.transaction_type }}
        </div>
        <div class="md:col-span-2 text-sm text-slate-500 dark:text-slate-300">
          {{ property.updated_at | date:'short' }}
        </div>
        <div class="md:col-span-2 flex justify-end gap-2">
          <a
            [routerLink]="['/imovel', property.id]"
            target="_blank"
            class="inline-flex items-center justify-center rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-600 transition hover:border-brand hover:text-slate-900 dark:border-slate-600 dark:text-slate-200 dark:hover:border-brand"
          >
            {{ 'landing.featured.button' | t }}
          </a>
          <a
            [routerLink]="['/admin/imoveis', property.id]"
            class="inline-flex items-center justify-center rounded-lg border border-slate-300 px-3 py-1 text-xs font-semibold text-slate-600 transition hover:border-brand hover:text-slate-900 dark:border-slate-600 dark:text-slate-200 dark:hover:border-brand"
          >
            {{ 'admin.properties.table.property' | t }}
          </a>
        </div>
      </div>
    </div>
  </div>
</section>
